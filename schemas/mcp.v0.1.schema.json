{
  "$schema": "http://json-schema.org/draft-2020-12/schema",
  "title": "MCP Tool Manifest v0.1",
  "description": "Schema for the mcp.json manifest file defining an MCP server/tool.",
  "type": "object",
  "properties": {
    "name": {
      "description": "The human-readable name of the MCP server or tool.",
      "type": "string",
      "minLength": 1
    },
    "description": {
      "description": "A short description of what the MCP server or tool does.",
      "type": "string",
      "minLength": 1
    },
    "url": {
      "description": "The URL endpoint where the MCP server can be reached (for HTTP transport) or instructions for stdio.",
      "type": "string",
      "format": "uri-reference"
    },
    "protocol_version": {
      "description": "The specific MCP protocol version the server implements (e.g., 'MCP/1.0', '2024-11-05').",
      "type": "string",
       "pattern": "^(MCP\\/\\d+\\.\\d+|\\d{4}-\\d{2}-\\d{2})$"
    },
    "capabilities": {
      "description": "A list of capabilities offered by the server (tools, resources, prompts).",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "description": "Name of the capability (e.g., tool name, resource type).",
            "type": "string"
          },
          "type": {
            "description": "Type of the capability.",
            "type": "string",
            "enum": ["tool", "resource", "prompt"]
          },
          "description": {
            "description": "Optional description for the specific capability.",
            "type": "string"
          }
        },
        "required": ["name", "type"]
      }
    },
    "tags": {
      "description": "Keywords to help categorize and discover the server.",
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^[a-z0-9-]+$"
      },
      "uniqueItems": true
    },
    "auth": {
      "description": "Information about authentication required to use the server (if any).",
      "type": "object",
      "properties": {
        "type": {
          "description": "The type of authentication required.",
          "type": "string",
          "enum": ["none", "api-key", "oauth", "hmac", "custom"]
        },
        "instructions": {
          "description": "Human-readable instructions on how to obtain credentials or authenticate.",
          "type": "string"
        },
        "key_name": {
            "description": "The name of the API key or environment variable if type is 'api-key'.",
            "type": "string"
        }
      },
      "required": ["type"]
    }
  },
  "required": [
    "name",
    "description",
    "url",
    "protocol_version",
    "capabilities"
  ],
  "additionalProperties": false
} 